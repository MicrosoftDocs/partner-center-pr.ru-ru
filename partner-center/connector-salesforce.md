---
title: Соединитель для совместной продажи в центре партнеров для Salesforce CRM
ms.topic: how-to
ms.service: partner-dashboard
ms.subservice: partnercenter-csp
description: Синхронизируйте свои ссылки в центре партнеров с помощью Salesforce CRM. Продавцов может совместно продаваться с корпорацией Майкрософт в ваших системах CRM.
author: sroy
ms.author: sroy
ms.localizationpriority: medium
ms.date: 06/28/2021
ms.openlocfilehash: 726e9071347e1590885b4bf82676f7767311f945
ms.sourcegitcommit: c4601069340445135b551fa96bee6d9923d8aa97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/01/2021
ms.locfileid: "113173684"
---
# <a name="co-sell-connector-for-salesforce-crm---overview"></a><span data-ttu-id="0b740-104">Соединитель для совместных продаж для Salesforce CRM — обзор</span><span class="sxs-lookup"><span data-stu-id="0b740-104">Co-sell connector for Salesforce CRM - overview</span></span>

<span data-ttu-id="0b740-105">**Соответствующие роли**: администратор ссылок | Системный администратор или Настройщик системы в CRM</span><span class="sxs-lookup"><span data-stu-id="0b740-105">**Appropriate roles**: Referrals admin | System admin or system customizer on the CRM</span></span>

<span data-ttu-id="0b740-106">Соединитель совместных продаж в центре партнеров позволяет продавцов совместную продажу с корпорацией Майкрософт в ваших системах CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-106">Partner Center co-sell connector enables your sellers to co-sell with Microsoft from within your CRM systems.</span></span> <span data-ttu-id="0b740-107">Они не должны быть обучены для использования центра партнеров для управления сделками в совместных продажах.</span><span class="sxs-lookup"><span data-stu-id="0b740-107">They won't have to be trained to use Partner Center to manage Co-sell deals.</span></span> <span data-ttu-id="0b740-108">Используя соединители совместной работы, вы можете создать новую ссылку для совместной продажи, чтобы привлечь продавца Майкрософт, получать ссылки от продавца Майкрософт, принимать или отклонять ссылки, изменять данные сделки, такие как стоимость сделки и дату закрытия.</span><span class="sxs-lookup"><span data-stu-id="0b740-108">Using the Co-sell connectors, you can create a new Co-sell referral to engage a Microsoft seller, receive referrals from the Microsoft seller, accept/decline referrals, modify deal data such as deal value, and closing date.</span></span>  <span data-ttu-id="0b740-109">Вы также можете получить обновления от Microsoft продавцов для этих сделок совместной продажи.</span><span class="sxs-lookup"><span data-stu-id="0b740-109">You can also receive any updates from the Microsoft sellers on these Co-sell deals.</span></span> <span data-ttu-id="0b740-110">Все ваши ссылки можно выполнять при работе в CRM по вашему выбору, а не в центре партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-110">You can do all of your referrals work while working within the CRM of your choice rather than in Partner Center.</span></span>

<span data-ttu-id="0b740-111">решение основано на решении Microsoft Power Automate и использует api-интерфейсы центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-111">The solution is based on Microsoft Power Automate Solution and uses Partner Center APIs.</span></span>

## <a name="before-you-install---pre-requisites"></a><span data-ttu-id="0b740-112">Перед установкой предварительных требований</span><span class="sxs-lookup"><span data-stu-id="0b740-112">Before you install - pre-requisites</span></span>

|<span data-ttu-id="0b740-113">**Разделы**</span><span class="sxs-lookup"><span data-stu-id="0b740-113">**Topics**</span></span>|<span data-ttu-id="0b740-114">**Сведения**</span><span class="sxs-lookup"><span data-stu-id="0b740-114">**Details**</span></span>|<span data-ttu-id="0b740-115">**Ссылки**</span><span class="sxs-lookup"><span data-stu-id="0b740-115">**Links**</span></span>|
|--------------|--------------------|------|
|<span data-ttu-id="0b740-116">Идентификатор Microsoft Partner Network</span><span class="sxs-lookup"><span data-stu-id="0b740-116">Microsoft Partner Network ID</span></span> |<span data-ttu-id="0b740-117">Требуется допустимый идентификатор MPN</span><span class="sxs-lookup"><span data-stu-id="0b740-117">You need a valid MPN ID</span></span>|<span data-ttu-id="0b740-118">Присоединение к [MPN](https://partner.microsoft.com/)</span><span class="sxs-lookup"><span data-stu-id="0b740-118">To join [MPN](https://partner.microsoft.com/)</span></span>|
|<span data-ttu-id="0b740-119">Готово к совместной продаже</span><span class="sxs-lookup"><span data-stu-id="0b740-119">Co-sell ready</span></span>|<span data-ttu-id="0b740-120">Ваше решение для работы с IP-адресами и службами должно быть готово к совместной продаже.</span><span class="sxs-lookup"><span data-stu-id="0b740-120">Your IP/Services solution must be co-sell ready.</span></span>|[<span data-ttu-id="0b740-121">Продажа с Майкрософт</span><span class="sxs-lookup"><span data-stu-id="0b740-121">Sell with Microsoft</span></span>](https://partner.microsoft.com/membership/sell-with-microsoft)|
|<span data-ttu-id="0b740-122">Учетная запись Центра партнеров</span><span class="sxs-lookup"><span data-stu-id="0b740-122">Partner Center account</span></span>|<span data-ttu-id="0b740-123">Идентификатор MPN, связанный с клиентом центра партнеров, должен совпадать с ИДЕНТИФИКАТОРом MPN, связанным с решением для совместной продажи.</span><span class="sxs-lookup"><span data-stu-id="0b740-123">The MPN ID associated with the Partner Center tenant must be same as the MPN ID associated with your Co-sell solution.</span></span> <span data-ttu-id="0b740-124">Прежде чем развертывать соединители, убедитесь, что вы видите ссылки на совместные продажи на портале центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-124">Verify that you can see your co-sell referrals in Partner Center portal before deploying the connectors.</span></span>|[<span data-ttu-id="0b740-125">Управляйте своей учетной записью</span><span class="sxs-lookup"><span data-stu-id="0b740-125">Manage your account</span></span>](create-user-accounts-and-set-permissions.md)|
|<span data-ttu-id="0b740-126">Роли пользователей Центра партнеров</span><span class="sxs-lookup"><span data-stu-id="0b740-126">Partner Center user roles</span></span>|<span data-ttu-id="0b740-127">Сотрудник, который будет устанавливать и использовать соединители, должен быть администратором ссылок.</span><span class="sxs-lookup"><span data-stu-id="0b740-127">The employee who will install and use the connectors must be a Referrals admin</span></span>|[<span data-ttu-id="0b740-128">Назначение пользователям ролей и разрешений</span><span class="sxs-lookup"><span data-stu-id="0b740-128">Assign users roles and permissions</span></span>](create-user-accounts-and-set-permissions.md)|
|<span data-ttu-id="0b740-129">SalesForce CRM</span><span class="sxs-lookup"><span data-stu-id="0b740-129">Salesforce CRM</span></span>|<span data-ttu-id="0b740-130">Роль пользователя CRM — системный администратор или Настройщик системы</span><span class="sxs-lookup"><span data-stu-id="0b740-130">The CRM user role is System admin or System customizer</span></span>|[<span data-ttu-id="0b740-131">Назначение ролей в Salesforce CRM</span><span class="sxs-lookup"><span data-stu-id="0b740-131">Assign roles in Salesforce CRM</span></span>](https://help.salesforce.com/articleView?id=assigning_users_to_roles.htm&type=5)|
|<span data-ttu-id="0b740-132">учетная запись Flow Power Automate</span><span class="sxs-lookup"><span data-stu-id="0b740-132">Power Automate Flow Account</span></span>|<span data-ttu-id="0b740-133">Создайте новую рабочую среду с базой данных для тестирования, промежуточного хранения и рабочей среды.</span><span class="sxs-lookup"><span data-stu-id="0b740-133">Create a new production environment with a database for testing, staging, and production.</span></span> <span data-ttu-id="0b740-134">Если у вас есть рабочая среда с базой данных, ее можно использовать повторно.</span><span class="sxs-lookup"><span data-stu-id="0b740-134">If you have an existing production environment with a database, it can be reused.</span></span> <span data-ttu-id="0b740-135">пользователь, который планирует установить решение соединителя, должен иметь лицензию на Power Automate и доступ к этой среде.</span><span class="sxs-lookup"><span data-stu-id="0b740-135">The user who's going to install the connector solution must have a Power Automate license and access to this environment.</span></span> <span data-ttu-id="0b740-136">вы можете отслеживать ход выполнения и получать дополнительные сведения в [Power Automate](https://flow.microsoft.com/) в случае сбоя установки.</span><span class="sxs-lookup"><span data-stu-id="0b740-136">You can monitor the progress and get more information in [Power Automate](https://flow.microsoft.com/) if the installation fails.</span></span> <span data-ttu-id="0b740-137">Выберите **Просмотреть журнал** в разделе **решения**.</span><span class="sxs-lookup"><span data-stu-id="0b740-137">Select **See history** under **Solutions**.</span></span>|[<span data-ttu-id="0b740-138">Создание среды или управление ею</span><span class="sxs-lookup"><span data-stu-id="0b740-138">Create or manage environment</span></span>](/power-platform/admin/create-environment#create-an-environment-with-a-database)|

## <a name="installation-of-salesforce-package-for-microsoft-custom-fields"></a><span data-ttu-id="0b740-139">Установка пакета salesforce для настраиваемых полей Майкрософт</span><span class="sxs-lookup"><span data-stu-id="0b740-139">Installation of Salesforce Package for Microsoft Custom Fields</span></span>

<span data-ttu-id="0b740-140">чтобы синхронизировать ссылки в центре партнеров и Salesforce CRM, Power Automateному решению необходимо четко определить связанные с корпорацией майкрософт поля ссылок.</span><span class="sxs-lookup"><span data-stu-id="0b740-140">To synchronize the referrals across Partner Center and Salesforce CRM, the Power Automate solution needs to clearly identify Microsoft-specific referral fields.</span></span> <span data-ttu-id="0b740-141">Эта разделительной предоставляет группам продавцов-партнеров возможность решать, какие ссылки должны предоставляться корпорации Майкрософт для совместной продажи.</span><span class="sxs-lookup"><span data-stu-id="0b740-141">This demarcation provides partner seller teams with the ability to decide which referrals they want to share with Microsoft for co-selling.</span></span>

1. <span data-ttu-id="0b740-142">В Salesforce активируйте **заметки** и добавьте их в список возможных сделок.</span><span class="sxs-lookup"><span data-stu-id="0b740-142">In Salesforce, activate **Notes** and add it to the opportunities related list.</span></span> [<span data-ttu-id="0b740-143">Ссылка</span><span class="sxs-lookup"><span data-stu-id="0b740-143">Reference</span></span>](https://help.salesforce.com/articleView?err=1&id=notes_admin_setup.htm&type=5)

1. <span data-ttu-id="0b740-144">Активируйте **группы возможных сделок** , выполнив следующие действия:</span><span class="sxs-lookup"><span data-stu-id="0b740-144">Activate **Opportunity teams** by following the steps:</span></span>
    - <span data-ttu-id="0b740-145">в программе установки используйте поле **быстрый поиск** , чтобы найти группу возможных сделок Параметры.</span><span class="sxs-lookup"><span data-stu-id="0b740-145">In Setup, use the **Quick Find** box to locate Opportunity Team Settings.</span></span>
    - <span data-ttu-id="0b740-146">При необходимости задайте необходимые параметры.</span><span class="sxs-lookup"><span data-stu-id="0b740-146">Define the settings as needed.</span></span> [<span data-ttu-id="0b740-147">Ссылка</span><span class="sxs-lookup"><span data-stu-id="0b740-147">Reference</span></span>](https://help.salesforce.com/articleView?id=sf.opp_team_manage.htm&type=5)

1. <span data-ttu-id="0b740-148">В Salesforce установите настраиваемые поля и объекты с помощью [установщика пакетов](https://login.salesforce.com/packaging/installPackage.apexp?p0=04t2w000006WIwV).</span><span class="sxs-lookup"><span data-stu-id="0b740-148">In Salesforce, install custom fields and objects using the [package installer](https://login.salesforce.com/packaging/installPackage.apexp?p0=04t2w000006WIwV).</span></span> <span data-ttu-id="0b740-149">Используйте этот установщик для установки пакета в любую компанию.</span><span class="sxs-lookup"><span data-stu-id="0b740-149">Use this installer to install the package into any company.</span></span>

    >[!NOTE]
    ><span data-ttu-id="0b740-150">При установке в песочницу необходимо заменить начальную часть URL-адреса на `http://test.salesforce.com` .</span><span class="sxs-lookup"><span data-stu-id="0b740-150">If you are installing into a sandbox, you must replace the initial portion of the URL with `http://test.salesforce.com`.</span></span>

1. <span data-ttu-id="0b740-151">В Salesforce добавьте решения Майкрософт в список, связанный с **возможной сделкой** .</span><span class="sxs-lookup"><span data-stu-id="0b740-151">In Salesforce, add Microsoft Solutions to the **Opportunity** related list.</span></span> <span data-ttu-id="0b740-152">После добавления щелкните значок **гаечного ключа** и обновите свойства.</span><span class="sxs-lookup"><span data-stu-id="0b740-152">Once added, select the **wrench** icon and update properties</span></span>

## <a name="best-practice-test-before-you-go-live"></a><span data-ttu-id="0b740-153">Рекомендации: Протестируйте перед переходом в динамический</span><span class="sxs-lookup"><span data-stu-id="0b740-153">Best Practice: Test before you go live</span></span>

<span data-ttu-id="0b740-154">прежде чем устанавливать, настраивать и настраивать решение Power Automate в рабочей среде, обязательно протестируйте решение на промежуточном экземпляре CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-154">Before you install, configure, and customize the Power Automate solution on the production environment, be sure to test the solution on a staging CRM instance.</span></span>

- <span data-ttu-id="0b740-155">установите решение Microsoft Power Automate в промежуточной среде или экземпляре CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-155">Install Microsoft Power Automate solution on a staging environment/CRM instance.</span></span>

- <span data-ttu-id="0b740-156">создайте копию решения и запустите конфигурацию и Power Automate настройку потоков в промежуточной среде.</span><span class="sxs-lookup"><span data-stu-id="0b740-156">Make a copy of the solution and run your configuration and Power Automate flow customizations on the staging environment.</span></span>

- <span data-ttu-id="0b740-157">Протестируйте решение в промежуточном или экземпляре CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-157">Test the solution on a staging/CRM instance.</span></span>

- <span data-ttu-id="0b740-158">В случае успеха импортируйте в рабочий экземпляр в качестве управляемого решения.</span><span class="sxs-lookup"><span data-stu-id="0b740-158">On success, import as a managed solution to the production instance.</span></span>

## <a name="install-partner-center-referrals-synchronization-for-salesforce-crm"></a><span data-ttu-id="0b740-159">Установка синхронизации ссылок центра партнеров для Salesforce CRM</span><span class="sxs-lookup"><span data-stu-id="0b740-159">Install Partner Center Referrals Synchronization for Salesforce CRM</span></span>

1. <span data-ttu-id="0b740-160">перейдите в [Power Automate](https://flow.microsoft.com) и выберите **среды** в правом верхнем углу.</span><span class="sxs-lookup"><span data-stu-id="0b740-160">Go to [Power Automate](https://flow.microsoft.com) and select **Environments** on the right top corner.</span></span> <span data-ttu-id="0b740-161">Будут показаны доступные экземпляры CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-161">This will show you the available CRM instances.</span></span>

1. <span data-ttu-id="0b740-162">Выберите нужный экземпляр CRM из раскрывающегося списка в правом верхнем углу.</span><span class="sxs-lookup"><span data-stu-id="0b740-162">Select the appropriate CRM instance from the drop-down list in the upper-right corner.</span></span>

1. <span data-ttu-id="0b740-163">Выберите **решения** на панели навигации слева.</span><span class="sxs-lookup"><span data-stu-id="0b740-163">Select **Solutions** on the left navigation bar.</span></span>

1. <span data-ttu-id="0b740-164">Выберите ссылку **Open AppSource (открыть** ) в верхнем меню.</span><span class="sxs-lookup"><span data-stu-id="0b740-164">Select the **Open AppSource** link on the top menu.</span></span>

   :::image type="content" source="images/cosellconnectors/open-appsource.png" alt-text="Откройте AppSource.":::

1. <span data-ttu-id="0b740-166">Найдите **соединители центров партнеров для Salesforce** во всплывающем окне.</span><span class="sxs-lookup"><span data-stu-id="0b740-166">Search for **Partner Center Referrals Connectors for Salesforce** in the pop-up screen.</span></span>  

   :::image type="content" source="images/salesforce/salesforce-get-it-now.png" alt-text="Снимок экрана: получить сейчас.":::

1. <span data-ttu-id="0b740-168">Нажмите кнопку **получить сейчас** , а затем выберите **продолжить**.</span><span class="sxs-lookup"><span data-stu-id="0b740-168">Select the **Get it now** button, and then select **Continue**.</span></span>

1. <span data-ttu-id="0b740-169">На следующей странице выберите среду CRM salesforce для установки приложения.</span><span class="sxs-lookup"><span data-stu-id="0b740-169">In the next page, select the Salesforce CRM environment to install the application.</span></span> <span data-ttu-id="0b740-170">Примите условия.</span><span class="sxs-lookup"><span data-stu-id="0b740-170">Agree to the terms and conditions.</span></span>

1. <span data-ttu-id="0b740-171">Затем вы направляетесь на страницу **Управление решениями** .</span><span class="sxs-lookup"><span data-stu-id="0b740-171">You're then directed to the **Manage your solutions** page.</span></span>  <span data-ttu-id="0b740-172">Перейдите в раздел "ссылки центра партнеров" с помощью кнопок со стрелками в нижней части страницы.</span><span class="sxs-lookup"><span data-stu-id="0b740-172">Navigate to "Partner Center Referrals" by using the arrow buttons on the bottom of the page.</span></span> <span data-ttu-id="0b740-173">**Запланированная установка** должна отображаться рядом с решением "ссылки центра партнеров".</span><span class="sxs-lookup"><span data-stu-id="0b740-173">**Installation scheduled** should appear next to Partner Center Referrals solution.</span></span> <span data-ttu-id="0b740-174">Установка займет 10-15 минут.</span><span class="sxs-lookup"><span data-stu-id="0b740-174">Installation will take 10-15 minutes.</span></span>

1. <span data-ttu-id="0b740-175">по завершении установки вернитесь к [Power Automate](https://flow.microsoft.com) и выберите **решения** в левой области навигации.</span><span class="sxs-lookup"><span data-stu-id="0b740-175">After the installation is complete, navigate back to [Power Automate](https://flow.microsoft.com) and select **Solutions** from left navigation area.</span></span> <span data-ttu-id="0b740-176">Обратите внимание, что в списке решений можно найти **ссылку Центр партнеров синхронизация для Salesforce** .</span><span class="sxs-lookup"><span data-stu-id="0b740-176">Notice that **Partner Center Referrals Synchronization for Salesforce** is now available in the Solutions list.</span></span>

1. <span data-ttu-id="0b740-177">Выберите **ссылку Центр партнеров синхронизация для Salesforce**.</span><span class="sxs-lookup"><span data-stu-id="0b740-177">Select **Partner Center Referrals Synchronization for Salesforce**.</span></span> <span data-ttu-id="0b740-178">доступны следующие Power Automate потоки и сущности:</span><span class="sxs-lookup"><span data-stu-id="0b740-178">The following Power Automate flows and entities are available:</span></span>

   :::image type="content" source="images/cosellconnectors/partner-center-referrals-synchronization.png" alt-text="Потоки Salesforce.":::

## <a name="configure-the-solution"></a><span data-ttu-id="0b740-180">Настройка решения</span><span class="sxs-lookup"><span data-stu-id="0b740-180">Configure the solution</span></span>

1. <span data-ttu-id="0b740-181">После установки решения в экземпляре CRM вернитесь к [Power Automate](https://flow.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="0b740-181">After you've installed the solution in your CRM instance, navigate back to [Power Automate](https://flow.microsoft.com/).</span></span>

1. <span data-ttu-id="0b740-182">в раскрывающемся списке **среды** в правом верхнем углу выберите экземпляр CRM, в котором было установлено решение Power Automate.</span><span class="sxs-lookup"><span data-stu-id="0b740-182">From the **Environments** drop-down in the upper-right corner, select the CRM instance where you installed the Power Automate solution.</span></span>

1. <span data-ttu-id="0b740-183">Вам потребуется создать подключения, связывающие три учетные записи пользователей:</span><span class="sxs-lookup"><span data-stu-id="0b740-183">You'll need to create connections that associate the three user accounts:</span></span>

   - <span data-ttu-id="0b740-184">Пользователь центра партнеров с учетными данными администратора ссылок</span><span class="sxs-lookup"><span data-stu-id="0b740-184">Partner Center user with referrals admin credentials</span></span>
   - <span data-ttu-id="0b740-185">События Центра партнеров</span><span class="sxs-lookup"><span data-stu-id="0b740-185">Partner Center Events</span></span>
   - <span data-ttu-id="0b740-186">администратор CRM с Power Automateными потоками в решении</span><span class="sxs-lookup"><span data-stu-id="0b740-186">CRM admin with the Power Automate flows in the solution</span></span>

   1. <span data-ttu-id="0b740-187">На панели навигации слева выберите **подключения** и в списке выберите решение " **ссылки центра партнеров** ".</span><span class="sxs-lookup"><span data-stu-id="0b740-187">Select **Connections** from the left navigation bar, and select the **Partner Center Referrals** solution from the list.</span></span>

   1. <span data-ttu-id="0b740-188">Создайте подключение, выбрав **создать соединение**.</span><span class="sxs-lookup"><span data-stu-id="0b740-188">Create a connection by selecting **Create a connection**.</span></span>

        :::image type="content" source="images/cosellconnectors/dynamics-1.png" alt-text="Снимок экрана, на котором показано создание соединения.":::

   1. <span data-ttu-id="0b740-190">Поиск **ссылок центра партнеров (Предварительная версия)** на панели поиска в правом верхнем углу.</span><span class="sxs-lookup"><span data-stu-id="0b740-190">Search for **Partner Center Referrals (preview)** in the search bar in the upper-right corner.</span></span>

   1. <span data-ttu-id="0b740-191">Создайте подключение для пользователя центра партнеров с ролью учетных данных администратора ссылок.</span><span class="sxs-lookup"><span data-stu-id="0b740-191">Create a connection for your Partner Center user with the credentials role of Referrals admin.</span></span>

   1. <span data-ttu-id="0b740-192">Затем создайте подключение к событиям центра партнеров для пользователя центра партнеров с учетными данными администратора ссылок.</span><span class="sxs-lookup"><span data-stu-id="0b740-192">Next, create a Partner Center Events connection for your Partner Center user with the credentials of Referrals admin.</span></span>

   1. <span data-ttu-id="0b740-193">Создайте подключение для Salesforce для пользователя администратора CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-193">Create a connection for Salesforce for the CRM administrator user.</span></span>
  
   1. <span data-ttu-id="0b740-194">Создайте подключение для Microsoft инверсии для пользователя администратора CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-194">Create a connection for Microsoft Dataverse for the CRM administrator user.</span></span>

   1. <span data-ttu-id="0b740-195">После добавления всех подключений в вашей среде должны отобразиться следующие подключения:</span><span class="sxs-lookup"><span data-stu-id="0b740-195">After you've added all the Connections, you should see the following connections in your environment:</span></span>

        :::image type="content" source="images/cosellconnectors/salesforce-connections.png" alt-text="Снимок экрана, показывающий, как наблюдать за подключениями.":::

### <a name="edit-the-connections"></a><span data-ttu-id="0b740-197">Изменение подключений</span><span class="sxs-lookup"><span data-stu-id="0b740-197">Edit the connections</span></span>

1. <span data-ttu-id="0b740-198">Вернитесь на страницу **решения** и выберите **решение по умолчанию**.</span><span class="sxs-lookup"><span data-stu-id="0b740-198">Return to the **Solutions** page and select **Default Solution**.</span></span> <span data-ttu-id="0b740-199">Выберите **ссылку на подключение (Предварительная версия)** , щелкнув **все**.</span><span class="sxs-lookup"><span data-stu-id="0b740-199">Select **Connection Reference (preview)** by clicking **All**.</span></span>

   :::image type="content" source="images/connection-reference-video.gif" alt-text="Снимок экрана, показывающий изменение подключений.":::

1. <span data-ttu-id="0b740-201">Измените каждое подключение по отдельности, щелкнув значок с многоточием.</span><span class="sxs-lookup"><span data-stu-id="0b740-201">Edit each of the Connections individually by selecting the ellipsis icon.</span></span> <span data-ttu-id="0b740-202">Добавьте соответствующие подключения.</span><span class="sxs-lookup"><span data-stu-id="0b740-202">Add the relevant connections.</span></span>

   :::image type="content" source="images/cosellconnectors/salesforce15.png" alt-text="На снимке экрана АСТ показано, как изменить соединители.":::

1. <span data-ttu-id="0b740-204">Включите потоки в следующей последовательности:</span><span class="sxs-lookup"><span data-stu-id="0b740-204">Turn on the flows in the following sequence:</span></span>
   - <span data-ttu-id="0b740-205">Регистрация веб-перехватчика центра партнеров (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-205">Partner Center Webhook Registration (Insider Preview)</span></span>
   - <span data-ttu-id="0b740-206">Настроен Создание или получение сведений из Salesforce</span><span class="sxs-lookup"><span data-stu-id="0b740-206">[Customize] Create or Get Details from Salesforce</span></span>
   - <span data-ttu-id="0b740-207">Создание Referral-Salesforce для совместной продажи в центре партнеров (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-207">Create Co-sell Referral-Salesforce to Partner Center (Insider Preview)</span></span>
   - <span data-ttu-id="0b740-208">Центр партнеров обновления справочных обновлений в Salesforce (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-208">Partner Center Microsoft Co-sell Referral Updates to Salesforce (Insider Preview)</span></span>  
   - <span data-ttu-id="0b740-209">Центр партнеров в Salesforce (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-209">Partner Center to Salesforce (Insider Preview)</span></span>
   - <span data-ttu-id="0b740-210">SalesForce в центр партнеров (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-210">Salesforce to Partner Center (Insider Preview)</span></span>
   - <span data-ttu-id="0b740-211">Возможность Salesforce в центре партнеров (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-211">Salesforce Opportunity to Partner Center (Insider Preview)</span></span>
   - <span data-ttu-id="0b740-212">Решения Майкрософт для Salesforce в центре партнеров (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="0b740-212">Salesforce Microsoft Solutions to Partner Center (Insider Preview)</span></span>

## <a name="use-webhook-apis-to-register-for-resource-change-events"></a><span data-ttu-id="0b740-213">Использование API веб-перехватчика для регистрации событий изменения ресурсов</span><span class="sxs-lookup"><span data-stu-id="0b740-213">Use Webhook APIs to register for resource change events</span></span>

<span data-ttu-id="0b740-214">Для регистрации событий изменения ресурсов можно использовать API-интерфейсы веб-перехватчика центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-214">You can use the Partner Center webhook APIs to register for resource change events.</span></span> <span data-ttu-id="0b740-215">Эти события изменения отправляются на URL-адрес в виде HTTP-сообщений.</span><span class="sxs-lookup"><span data-stu-id="0b740-215">These change events are sent to your URL as HTTP posts.</span></span>

1. <span data-ttu-id="0b740-216">Выберите **Центр партнеров для SALESFORCE CRM (Предварительная версия)**.</span><span class="sxs-lookup"><span data-stu-id="0b740-216">Select **Partner Center to Salesforce CRM (Insider Preview)**.</span></span>

1. <span data-ttu-id="0b740-217">Щелкните **значок редактирования** и выберите **время получения HTTP-запроса**.</span><span class="sxs-lookup"><span data-stu-id="0b740-217">Select the **Edit icon** and select **When an HTTP request is received**.</span></span>

1. <span data-ttu-id="0b740-218">Щелкните значок **копирования** , чтобы скопировать предоставленный **URL-адрес HTTP POST**.</span><span class="sxs-lookup"><span data-stu-id="0b740-218">Select the **Copy** icon to copy the provided **HTTP POST URL**.</span></span>

   :::image type="content" source="images/salesforce/copy-url.png" alt-text="Снимок экрана, на котором показано, как скопировать URL-адрес.":::

1. <span data-ttu-id="0b740-220">выберите Power Automate поток **регистрации веб-перехватчика центра партнеров (предварительная версия)** и нажмите кнопку **выполнить**.</span><span class="sxs-lookup"><span data-stu-id="0b740-220">Select the **Partner Center Webhook Registration (Insider Preview)** Power Automate flow, and then select **Run**.</span></span>

1. <span data-ttu-id="0b740-221">Убедитесь, что в области справа откроется окно **Запуск потока** , и выберите **продолжить**.</span><span class="sxs-lookup"><span data-stu-id="0b740-221">Ensure that the **Run flow** window opens in the right pane, and select **Continue**.</span></span>

1. <span data-ttu-id="0b740-222">Введите следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="0b740-222">Enter the following details:</span></span>

   - <span data-ttu-id="0b740-223">**Конечная точка триггера HTTP**: этот URL-адрес был скопирован из предыдущего шага.</span><span class="sxs-lookup"><span data-stu-id="0b740-223">**Http Trigger Endpoint**: This URL was copied from an earlier step.</span></span>
   - <span data-ttu-id="0b740-224">**Регистрируемые события**: выберите все доступные события (**созданные по ссылке**, **обновленные ссылки**, **связанные-ссылки — созданы**, а **связанные ссылки — обновлены**).</span><span class="sxs-lookup"><span data-stu-id="0b740-224">**Events to Register**: Select all available events (**referral-created**, **referral-updated**, **related-referral-created**, and **related-referral-updated**).</span></span>
   - <span data-ttu-id="0b740-225">**Перезаписать существующие конечные точки триггера, если они есть?**: Да.</span><span class="sxs-lookup"><span data-stu-id="0b740-225">**Overwrite existing trigger endpoints if present?**: Yes.</span></span> <span data-ttu-id="0b740-226">Только один URL-адрес может быть зарегистрирован для конкретного события веб-перехватчика.</span><span class="sxs-lookup"><span data-stu-id="0b740-226">Only one URL can be registered for a given webhook event.</span></span>

1. <span data-ttu-id="0b740-227">Выберите **выполнить последовательность** и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="0b740-227">Select **Run flow**, and then select **Done**.</span></span>

<span data-ttu-id="0b740-228">Веб-перехватчик теперь может ожидать, создавать и обновлять события.</span><span class="sxs-lookup"><span data-stu-id="0b740-228">The webhook can now listen to, create, and update events.</span></span>

## <a name="customize-synchronization-steps"></a><span data-ttu-id="0b740-229">Настройка шагов синхронизации</span><span class="sxs-lookup"><span data-stu-id="0b740-229">Customize synchronization steps</span></span>

<span data-ttu-id="0b740-230">системы crm сильно настроены, и вы можете настроить Power Automate решение в соответствии с настройками crm.</span><span class="sxs-lookup"><span data-stu-id="0b740-230">CRM systems are highly customized, and you can customize the Power Automate solution based on your CRM setup.</span></span> <span data-ttu-id="0b740-231">Когда ссылки на совместные продажи синхронизируются между центром партнеров и системой CRM, поля, синхронизированные на компьютере центра партнеров, перечислены в разделе [настраиваемое сопоставление полей](https://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RWxL6S).</span><span class="sxs-lookup"><span data-stu-id="0b740-231">When co-sell referrals are synced between Partner Center and your CRM system, the fields that are synced on the Partner Center PC are listed in the [Custom field mapping guide](https://query.prod.cms.rt.microsoft.com/cms/api/am/binary/RWxL6S).</span></span>

<span data-ttu-id="0b740-232">Следуйте указаниям в разделе "сопоставление полей" и при необходимости внесите соответствующие изменения в **[настроить] создание или получение сведений из Salesforce** или переменных среды.</span><span class="sxs-lookup"><span data-stu-id="0b740-232">Follow the field mapping guide, and if necessary, make appropriate changes in **[Customize] Create or Get Details from Salesforce** or environment variables.</span></span> <span data-ttu-id="0b740-233">не обновляйте другие потоки в решении Power Automate, так как это может повлиять на будущие обновления решения.</span><span class="sxs-lookup"><span data-stu-id="0b740-233">Don't update any other flows in the Power Automate solution because it can affect future solution upgrades.</span></span>

<span data-ttu-id="0b740-234">Доступны следующие настройки.</span><span class="sxs-lookup"><span data-stu-id="0b740-234">The following customizations are available:</span></span>

- <span data-ttu-id="0b740-235">**Отображать флажок в имени возможности**: по умолчанию рядом с именем возможности отображается галочка, чтобы указать, что синхронизация между центром партнеров и Salesforce CRM происходит успешно.</span><span class="sxs-lookup"><span data-stu-id="0b740-235">**Display check mark in the opportunity name**: By default, a check mark will be displayed next to the opportunity name to indicate that synchronization between Partner Center and Salesforce CRM is happening successfully.</span></span> <span data-ttu-id="0b740-236">Аналогичным образом в случае сбоя синхронизации будет отображаться крестик.</span><span class="sxs-lookup"><span data-stu-id="0b740-236">Similarly, a cross mark will be displayed if synchronization fails.</span></span> <span data-ttu-id="0b740-237">Чтобы не допустить добавления флажка или крестика в имени возможности, установите текущее значение **флажка отображение в переменной среды имя возможной сделки** равным нет.</span><span class="sxs-lookup"><span data-stu-id="0b740-237">To avoid adding a check or cross mark in the opportunity name, set the current value of the **Display check mark in the opportunity name** environment variable to No.</span></span>

- <span data-ttu-id="0b740-238">**Имя этапа**:</span><span class="sxs-lookup"><span data-stu-id="0b740-238">**Stage name**:</span></span>

  - <span data-ttu-id="0b740-239">**Имя активной стадии**: это этап в конвейере продаж возможности в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-239">**Active stage name**: This is the stage in an opportunity's sales pipeline in Salesforce.</span></span>  <span data-ttu-id="0b740-240">Она представляет активный этап и эквивалентна ссылке в принятом состоянии в центре партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-240">It represents an active stage and is equivalent to a referral in accepted state in Partner Center.</span></span> <span data-ttu-id="0b740-241">Это может быть следующий этап в конвейере продаж после этапа на удержании.</span><span class="sxs-lookup"><span data-stu-id="0b740-241">This can be the next stage in the sales pipeline after the on-hold stage.</span></span> <span data-ttu-id="0b740-242">На этапе переноса на активный этап на уровне продаж можно принять ссылку в центре партнеров, после чего изменения начнут синхронизироваться.</span><span class="sxs-lookup"><span data-stu-id="0b740-242">Moving Opportunity's sales stage out of the on-hold stage into active stage will accept the referral in Partner Center and changes will start synchronizing.</span></span>

  - <span data-ttu-id="0b740-243">**Имя этапа на удержании**: имя этапа в конвейере продаж возможности в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-243">**On-hold stage name**: Name of the stage in an opportunity's sales pipeline in Salesforce.</span></span> <span data-ttu-id="0b740-244">Он представляет собой этап на удержании.</span><span class="sxs-lookup"><span data-stu-id="0b740-244">It represents an on-hold stage.</span></span> <span data-ttu-id="0b740-245">Новые ссылки совместной продажи, предоставленные Майкрософт, которые еще не приняты, будут установлены на этот этап в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-245">New co-sell referrals shared from Microsoft that are not yet accepted will be set to this stage in Salesforce.</span></span> <span data-ttu-id="0b740-246">Любые изменения, внесенные в возможность, пока она находится на стадии удержания, не будут синхронизироваться с центром партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-246">Any changes made in an opportunity while it is on-hold stage will not synchronize to Partner Center.</span></span> <span data-ttu-id="0b740-247">На промежуточном этапе продаж с переносом можно принять ссылку в центре партнеров, после чего изменения начнут синхронизироваться.</span><span class="sxs-lookup"><span data-stu-id="0b740-247">Moving Opportunity's sales stage out of this on-hold stage will accept the referral in Partner Center and changes will start synchronizing.</span></span>

- <span data-ttu-id="0b740-248">**Код страны для учетной записи клиента**. при создании новой ссылки обязательно укажите двухбуквенный код страны (ISO 3166).</span><span class="sxs-lookup"><span data-stu-id="0b740-248">**Customer Account Country Code**: It is mandatory to provide a two-letter country code (ISO 3166) when you create a new referral.</span></span> <span data-ttu-id="0b740-249">По умолчанию код страны будет синхронизирован с полем **биллингкаунтри** учетной записи Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-249">By default, the country code will be synced to and from the account's **BillingCountry** field in Salesforce.</span></span> <span data-ttu-id="0b740-250">Если в Salesforce есть другое поле для синхронизации кода страны:</span><span class="sxs-lookup"><span data-stu-id="0b740-250">If you have a different field in Salesforce for the country code to sync from:</span></span>

  - <span data-ttu-id="0b740-251">Для поля неуточняющего кода страны в учетной записи, содержащей двухбуквенный код:</span><span class="sxs-lookup"><span data-stu-id="0b740-251">For a nonlookup country code field in the account that contains a two-letter code:</span></span>

    - <span data-ttu-id="0b740-252">Обновите имя поля **кода страны для учетной записи клиента** в переменной среды SalesForce с именем поля CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-252">Update the **Customer Account Country Code** field name in the Salesforce environment variable with the CRM's field name.</span></span> <span data-ttu-id="0b740-253">Убедитесь, что вы задаюте имя поля, а не его отображаемое имя.</span><span class="sxs-lookup"><span data-stu-id="0b740-253">Make sure that you provide the field's name, not its display name.</span></span>

    - <span data-ttu-id="0b740-254">Изменить **[настроить] Создайте или получите сведения из Salesforce** и перейдите к разделу **Создание или получение учетной записи клиента в действии CRM** , чтобы назначить значение **страны** для правильного поля в CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-254">Edit **[Customize] Create or Get Details from Salesforce**, and go to **Create or get customer account in CRM** action to assign a **Country** value to the correct field in the CRM.</span></span> <span data-ttu-id="0b740-255">Кроме того, удалите назначение значения **Country** из **биллингкаунтри**.</span><span class="sxs-lookup"><span data-stu-id="0b740-255">Also, remove the **Country** value assignment from the **BillingCountry**.</span></span>

  - <span data-ttu-id="0b740-256">Для поля кода страны на основе поиска в учетной записи:</span><span class="sxs-lookup"><span data-stu-id="0b740-256">For a lookup-based country code field in the account:</span></span>

    - <span data-ttu-id="0b740-257">Добавьте новое настраиваемое поле в учетную запись и автоматически заполните его двузначным кодом страны (ISO 3166) на основе значения, выбранного в поле поиска, и наоборот.</span><span class="sxs-lookup"><span data-stu-id="0b740-257">Add a new custom field in the account, and auto-populate it with a two-letter country code (ISO 3166) based on the value selected in the lookup-based field and vice versa.</span></span>

    - <span data-ttu-id="0b740-258">Выполните описанные выше действия для поля Код страны, не являющегося подстановкой, чтобы синхронизировать новое настраиваемое поле из CRM с центром партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-258">Follow the preceding steps for the nonlookup country code field to sync a new custom field from the CRM to and from Partner Center.</span></span>

- <span data-ttu-id="0b740-259">**Стоимость сделки**. по умолчанию стоимость сделки из центра партнеров будет синхронизирована с **суммой** в CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-259">**Deal value**: By default, the deal value from Partner Center will be synchronized to and from **Amount** in the CRM.</span></span> <span data-ttu-id="0b740-260">Если в CRM есть другое поле для синхронизации значения сделки:</span><span class="sxs-lookup"><span data-stu-id="0b740-260">If you have a different field in the CRM for the deal value to synchronize from:</span></span>

  - <span data-ttu-id="0b740-261">Измените имя поля **значения сделки** в переменной среды Salesforce, указав имя поля CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-261">Update the **Deal value** field name in the Salesforce environment variable with the CRM's field name.</span></span> <span data-ttu-id="0b740-262">Убедитесь, что вы задаюте имя поля, а не его отображаемое имя.</span><span class="sxs-lookup"><span data-stu-id="0b740-262">Make sure that you provide the field's name, not its display name.</span></span>

  - <span data-ttu-id="0b740-263">Изменить **[настроить] Создайте или получите сведения из Salesforce** и перейдите к разделу **Создание или обновление возможностей** в CRM и обновите **Создание новой** возможной сделки и **Обновите существующие** действия с возможностью, чтобы назначить **деалвалуе** для правильного поля в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-263">Edit **[Customize] Create or Get Details from Salesforce** and go to **Create or update opportunity** in CRM and update both **Create a new opportunity** and **Update existing opportunity** actions to assign the **DealValue** to the correct field in Salesforce.</span></span>

- <span data-ttu-id="0b740-264">**Код валюты значения денежной единицы**: имя поля кода валюты для ценности в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-264">**Deal value currency code**: Name of the deal value currency code field in Salesforce.</span></span> <span data-ttu-id="0b740-265">Это поле Имя API будет использоваться для получения денежного значения сделки при создании или обновлении ссылок в центре партнеров Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-265">This field API name will be used to get Opportunity's deal value currency code when creating or updating referral in Microsoft Partner Center.</span></span> <span data-ttu-id="0b740-266">Если поле кода валюты с денежными значениями отличается от поля **CurrencyIsoCode** по умолчанию, обновите текущее значение этой переменной среды.</span><span class="sxs-lookup"><span data-stu-id="0b740-266">If deal value currency code field is different than default field **CurrencyIsoCode**, update the current value of this environment variable.</span></span>

  - <span data-ttu-id="0b740-267">Измените имя поля **денежного значения** в переменной среды Salesforce, указав имя поля CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-267">Update the **Deal value currency** field name in the Salesforce environment variable with the CRM's field name.</span></span> <span data-ttu-id="0b740-268">Убедитесь, что вы задаюте имя поля, а не его отображаемое имя.</span><span class="sxs-lookup"><span data-stu-id="0b740-268">Make sure that you provide the field's name, not its display name.</span></span>

  - <span data-ttu-id="0b740-269">Изменить **[настроить] Создайте или получите сведения из Salesforce** и перейдите к разделу **Создание или обновление возможностей** в CRM и обновите **Создание новой** возможной сделки и **Обновите существующие** действия с возможностью, чтобы назначить **деалвалуекурренци** для правильного поля в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-269">Edit **[Customize] Create or Get Details from Salesforce** and go to **Create or update opportunity** in CRM and update both **Create a new opportunity** and **Update existing opportunity** actions to assign the **DealValueCurrency** to the correct field in Salesforce.</span></span>

- <span data-ttu-id="0b740-270">**Синхронизировать возможность совместной продажи**. Если задано значение **Да**, только возможности совместной продажи и совместного использования конвейера будут синхронизированы из центра партнеров в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-270">**Sync Co-sell opportunity**: If set to **yes**, only co-sell and pipeline sharing opportunities will be synchronized from Partner Center to Salesforce.</span></span> <span data-ttu-id="0b740-271">Если задано значение **нет**, интересы, совместная продажа и возможности совместного использования конвейера будут синхронизированы из центра партнеров в Salesforce.</span><span class="sxs-lookup"><span data-stu-id="0b740-271">If set to **no**, leads, co-sell, and pipeline sharing opportunities will be synchronized from Partner Center to Salesforce.</span></span> <span data-ttu-id="0b740-272">Эта переменная не влияет на возможности, синхронизированные из Salesforce в центр партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-272">This variable does not have any impact on the opportunities synchronized from Salesforce to Partner Center.</span></span>

## <a name="update-environment-variable"></a><span data-ttu-id="0b740-273">Обновить переменную среды</span><span class="sxs-lookup"><span data-stu-id="0b740-273">Update environment variable</span></span>

<span data-ttu-id="0b740-274">Чтобы обновить значение переменной среды, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="0b740-274">To update an environment variable value:</span></span>

1. <span data-ttu-id="0b740-275">Перейдите на страницу **решения** и выберите **решение по умолчанию**.</span><span class="sxs-lookup"><span data-stu-id="0b740-275">Go to the **Solutions** page, and select **Default Solution**.</span></span> <span data-ttu-id="0b740-276">Выберите **переменную среды** , выбрав **все**.</span><span class="sxs-lookup"><span data-stu-id="0b740-276">Select **Environment Variable** by selecting **All**.</span></span>

1. <span data-ttu-id="0b740-277">Выберите переменную среды для значения, которое требуется обновить, и выберите **изменить** с помощью значка многоточия.</span><span class="sxs-lookup"><span data-stu-id="0b740-277">Select the environment variable for the value that needs to be updated, and select **Edit** by using the ellipsis icon.</span></span>

1. <span data-ttu-id="0b740-278">Обновить **Текущее значение** (не обновлять **значение по умолчанию**) с помощью параметра " **новое значение** " и указав значение.</span><span class="sxs-lookup"><span data-stu-id="0b740-278">Update **Current Value** (don't update **Default Value**) by using the **New value** option and providing the value.</span></span> <span data-ttu-id="0b740-279">Значение должно соответствовать типу данных переменной.</span><span class="sxs-lookup"><span data-stu-id="0b740-279">The value must match the data type of the variable.</span></span> <span data-ttu-id="0b740-280">Например, тип данных «да» или «нет» будет принимать значение «Да» или «нет».</span><span class="sxs-lookup"><span data-stu-id="0b740-280">For example, the Yes or No data type will accept either the Yes or No value.</span></span>

   :::image type="content" source="images/cosellconnectors/environment-variables-video.gif" alt-text="Снимок экрана, на котором показаны переменные среды обновления.":::

## <a name="end-to-end-bi-directional-co-sell-referral-synchronization"></a><span data-ttu-id="0b740-282">Сквозная синхронизация двунаправленной совместной продажи</span><span class="sxs-lookup"><span data-stu-id="0b740-282">End-to-end bi-directional co-sell referral synchronization</span></span>

<span data-ttu-id="0b740-283">после установки, настройки и настройки решения Power Automate можно протестировать синхронизацию ссылок совместной продажи между Salesforce CRM и центром партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-283">After you've installed, configured, and customized the Power Automate solution, you can test for Co-sell referrals synchronization between Salesforce CRM and Partner Center.</span></span>

### <a name="pre-requisites"></a><span data-ttu-id="0b740-284">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="0b740-284">Pre-requisites</span></span>

<span data-ttu-id="0b740-285">чтобы синхронизировать ссылки в центре партнеров и Salesforce CRM, Power Automateному решению необходимо четко разграничения ссылочные поля, относящиеся к корпорации майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-285">To synchronize the referrals across Partner Center and Salesforce CRM, the Power Automate solution needs to clearly demarcate Microsoft-specific referral fields.</span></span> <span data-ttu-id="0b740-286">Эта идентификация предоставляет группам продавцов возможность решать, какие ссылки должны предоставляться корпорации Майкрософт для совместной продажи.</span><span class="sxs-lookup"><span data-stu-id="0b740-286">This identification provides your seller teams with the ability to decide which referrals they want to share with Microsoft for co-selling.</span></span>

<span data-ttu-id="0b740-287">Набор настраиваемых полей доступен в рамках синхронизации ссылок центра партнеров для сущности **возможности** решения Salesforce CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-287">A set of custom fields is available as part of Partner Center Referrals Synchronization for Salesforce CRM solution **Opportunity** entity.</span></span> <span data-ttu-id="0b740-288">Пользователь с правами администратора CRM должен создать отдельный раздел CRM с настраиваемыми полями **возможностей** .</span><span class="sxs-lookup"><span data-stu-id="0b740-288">A CRM admin user will need to create a separate CRM section with the **Opportunity** custom fields.</span></span>

<span data-ttu-id="0b740-289">Следующие настраиваемые поля должны быть частью раздела CRM:</span><span class="sxs-lookup"><span data-stu-id="0b740-289">The following custom fields should be part of the CRM section:</span></span>

- <span data-ttu-id="0b740-290">**Синхронизация с центром партнеров**: следует ли синхронизировать возможную сделку с центром партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-290">**Sync with Partner Center**: Whether to sync the opportunity with Partner Center.</span></span> <span data-ttu-id="0b740-291">По умолчанию значением этого поля является нет и его необходимо явно задать равным "Да" продавцу, чтобы поделиться возможностью с Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-291">By default, the value of this field is No and needs to be explicitly set to Yes by your seller to share an opportunity with Microsoft.</span></span> <span data-ttu-id="0b740-292">Для новых ссылок, предоставленных в центре партнеров в CRM, этому полю будет присвоено значение Да.</span><span class="sxs-lookup"><span data-stu-id="0b740-292">New referrals shared from Partner Center to CRM will have this field value set to Yes.</span></span>

- <span data-ttu-id="0b740-293">**Идентификатор ссылки**: поле идентификатора только для чтения для ссылки на центр партнеров Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-293">**Referral Identifier**: A read-only identifier field for Microsoft Partner Center referral.</span></span>

- <span data-ttu-id="0b740-294">**Ссылка на ссылку: ссылка** только для чтения на ссылку в центре партнеров Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-294">**Referral Link**: A read-only link to the referral in Microsoft Partner Center.</span></span>

- <span data-ttu-id="0b740-295">**Как можно** получить помощь от корпорации Майкрософт по этой ссылке.</span><span class="sxs-lookup"><span data-stu-id="0b740-295">**How can Microsoft help**: Help required from Microsoft for the referral.</span></span> <span data-ttu-id="0b740-296">Чтобы создать ссылку на совместную продажу, выберите необходимую справку Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-296">To create a co-sell referral, select the appropriate help required from Microsoft.</span></span> <span data-ttu-id="0b740-297">Контактное лицо клиента должно быть связано с возможностью создания ссылки для совместной продажи.</span><span class="sxs-lookup"><span data-stu-id="0b740-297">A customer contact must be associated to the opportunity to create a co-sell referral.</span></span> <span data-ttu-id="0b740-298">Чтобы создать ссылку не на совместную продажу, не выбирайте это поле.</span><span class="sxs-lookup"><span data-stu-id="0b740-298">To create a non-co-sell referral, don't select this field.</span></span> <span data-ttu-id="0b740-299">Ссылку, не относящуюся к продажам, можно преобразовать в ссылку для совместной продажи в любое время, выбрав соответствующий параметр справки — обязательный вариант.</span><span class="sxs-lookup"><span data-stu-id="0b740-299">A non-co-sell referral can be converted to a co-sell referral anytime by selecting the appropriate help-required option.</span></span>

- <span data-ttu-id="0b740-300">**Видимость ссылок в центре партнеров Майкрософт**: Выберите видимость для ссылки центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-300">**Microsoft Partner Center Referral Visibility**: Select visibility for the Partner Center referral.</span></span> <span data-ttu-id="0b740-301">Сделав ее видимой для Microsoft продавцов, вы можете преобразовать ее в совместную продажу.</span><span class="sxs-lookup"><span data-stu-id="0b740-301">By making it visible to Microsoft sellers, a non-co-sell referral might get converted to co-sell.</span></span> <span data-ttu-id="0b740-302">Если требуется справка Майкрософт, ссылка по умолчанию отображается в Microsoft продавцов.</span><span class="sxs-lookup"><span data-stu-id="0b740-302">When Microsoft help is required, the referral is visible to Microsoft sellers by default.</span></span> <span data-ttu-id="0b740-303">После того как это поле будет помечено как видимое, его нельзя будет отменить.</span><span class="sxs-lookup"><span data-stu-id="0b740-303">After this field is marked as visible, it can't be reverted.</span></span>

- <span data-ttu-id="0b740-304">**идентификатор Microsoft CRM**: при создании и принятии ссылки на совместную продажу майкрософт это поле будет заполнено идентификатором microsoft CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-304">**Microsoft CRM Identifier**: When a co-sell referral is created and accepted by Microsoft, this field will get populated with Microsoft's CRM identifier.</span></span>

- <span data-ttu-id="0b740-305">**Решения центра партнеров Майкрософт**: Пользовательский объект для связывания готовых решений совместной продажи или решений Майкрософт с возможностью.</span><span class="sxs-lookup"><span data-stu-id="0b740-305">**Microsoft Partner Center Solutions**: A custom object to associate co-sell ready solutions or Microsoft solutions with the opportunity.</span></span> <span data-ttu-id="0b740-306">Одно или несколько решений могут быть добавлены или удалены из возможной сделки.</span><span class="sxs-lookup"><span data-stu-id="0b740-306">One or more solutions can be added or removed from the opportunity.</span></span> <span data-ttu-id="0b740-307">Перед предоставлением общего доступа к этой возможности в корпорацию Майкрософт обязательно добавьте по крайней мере одно решение для совместной продажи или решения Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0b740-307">It's mandatory to add at least one co-sell ready or Microsoft solution to the opportunity before you share it with Microsoft.</span></span> <span data-ttu-id="0b740-308">Чтобы связать этот объект с возможностью, обновите форму **возможности** в CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-308">To associate this object to the opportunity, update the **Opportunity** form in the CRM.</span></span>

- <span data-ttu-id="0b740-309">**Аудит**: журнал аудита только для чтения для синхронизации с ссылками центра партнеров</span><span class="sxs-lookup"><span data-stu-id="0b740-309">**Audit**: A read-only audit trail for syncing with Partner Center referrals</span></span>

### <a name="scenarios"></a><span data-ttu-id="0b740-310">ВАРИАНТ</span><span class="sxs-lookup"><span data-stu-id="0b740-310">SCENARIOS</span></span>

1. <span data-ttu-id="0b740-311">Синхронизация ссылок при создании или обновлении ссылок в CRM и синхронизации в центре партнеров:</span><span class="sxs-lookup"><span data-stu-id="0b740-311">Referral synchronization when referral is created or updated in CRM and synced in Partner Center:</span></span>

   1. <span data-ttu-id="0b740-312">Войдите в среду Salesforce CRM с помощью пользователя, который обладает видимостью в разделе **возможности** CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-312">Sign into your Salesforce CRM environment with user who has visibility in the **Opportunity** section of the CRM.</span></span>

   1. <span data-ttu-id="0b740-313">При создании **новой возможной сделки** в среде Salesforce CRM убедитесь, что в разделе **Microsoft Partner Center** есть новая возможность.</span><span class="sxs-lookup"><span data-stu-id="0b740-313">Ensure that the section, **Microsoft Partner Center** is present when you create a **New Opportunity** in Salesforce CRM environment.</span></span>

   1. <span data-ttu-id="0b740-314">Возможности, успешно синхронизированные с центром партнеров, будут идентифицированы с помощью значка ✔ в Salesforce CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-314">Opportunities that are synchronized successfully with Partner Center will be identified with ✔ icon in Salesforce CRM.</span></span>
      :::image type="content" source="images/salesforce/salesforce-environment.png" alt-text="Снимок экрана среды Salesforce.":::

   1. <span data-ttu-id="0b740-316">Чтобы синхронизировать эту возможность с центром партнеров Майкрософт, убедитесь, что в представлении карточка установлены следующие поля:</span><span class="sxs-lookup"><span data-stu-id="0b740-316">To synchronize this opportunity with Microsoft Partner Center, ensure that you set the following fields in the card view:</span></span>

      - <span data-ttu-id="0b740-317">**Как можно получить справку Майкрософт?**. чтобы создать ссылку на совместную продажу, выберите соответствующий параметр справки.</span><span class="sxs-lookup"><span data-stu-id="0b740-317">**How can Microsoft help?**: To create a co-sell referral, select an appropriate help option.</span></span>

        :::image type="content" source="images/salesforce/salesforce-help-option.png" alt-text="Снимок экрана, показывающий, как получить соответствующие поля в представлении карточек.":::

      - <span data-ttu-id="0b740-319">**Синхронизация с центром партнеров**: Да</span><span class="sxs-lookup"><span data-stu-id="0b740-319">**Sync with Partner Center**: Yes</span></span>
      - <span data-ttu-id="0b740-320">**Контактное лицо клиента**. чтобы создать ссылку на совместную продажу, добавьте контактного лица клиента в возможную сделку.</span><span class="sxs-lookup"><span data-stu-id="0b740-320">**Customer contact**: To create a co-sell referral, add a customer contact to the opportunity.</span></span>
      - <span data-ttu-id="0b740-321">**Решения Майкрософт**. чтобы поделиться ссылкой с корпорацией Майкрософт, добавьте действующее решение для совместной продажи или решения Майкрософт в эту возможность.</span><span class="sxs-lookup"><span data-stu-id="0b740-321">**Microsoft Solutions**: To share a referral with Microsoft, add a valid co-sell ready or Microsoft solution to the opportunity.</span></span>

   1. <span data-ttu-id="0b740-322">Установив для параметра синхронизация возможных сделок **с центром партнеров** значение **Да**, подождите 10 минут, войдите в свою учетную запись центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-322">After you have set the opportunity **Sync with Partner Center** option to **Yes**, wait for 10 minutes, sign into your Partner Center account.</span></span> <span data-ttu-id="0b740-323">Ваши ссылки будут синхронизированы с Salesforce CRM, и ссылка будет заполнена.</span><span class="sxs-lookup"><span data-stu-id="0b740-323">Your referrals will be synchronized with Salesforce CRM, and Referral Link will get populated.</span></span> <span data-ttu-id="0b740-324">В случае сбоя поле аудита будет заполнено информацией об ошибке.</span><span class="sxs-lookup"><span data-stu-id="0b740-324">If there's a failure, the Audit field will be populated with error information.</span></span>

   1. <span data-ttu-id="0b740-325">Аналогично, если для параметра **Синхронизация с центром партнеров** задано значение **Да**, то при обновлении возможности в Salesforce CRM изменения будут синхронизироваться с учетной записью центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-325">Similarly, when the **Sync with Partner Center** option is set to **Yes**, if you update the opportunity in Salesforce CRM, the changes will synchronize with your Partner Center account.</span></span>

2. <span data-ttu-id="0b740-326">Синхронизация ссылок при создании или обновлении ссылок в центре партнеров Майкрософт и синхронизации в среде Salesforce CRM:</span><span class="sxs-lookup"><span data-stu-id="0b740-326">Referral Synchronization when referral is created or updated in Microsoft Partner Center and synchronized in Salesforce CRM environment:</span></span>

    1. <span data-ttu-id="0b740-327">Войдите на [панель мониторинга](https://partner.microsoft.com/dashboard/home)центра партнеров.</span><span class="sxs-lookup"><span data-stu-id="0b740-327">Sign into your Partner Center [dashboard](https://partner.microsoft.com/dashboard/home).</span></span>

    1. <span data-ttu-id="0b740-328">В меню слева выберите **ссылки** .</span><span class="sxs-lookup"><span data-stu-id="0b740-328">Select **Referrals** from the left-hand menu.</span></span>

    1. <span data-ttu-id="0b740-329">Чтобы создать новую ссылку для совместной продажи из центра партнеров, щелкните "Новая сделка".</span><span class="sxs-lookup"><span data-stu-id="0b740-329">Create a new Co-sell referral from Partner Center by clicking "New deal" option.</span></span>

    1. <span data-ttu-id="0b740-330">Войдите в среду Salesforce CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-330">Sign into your Salesforce CRM environment.</span></span>

    1. <span data-ttu-id="0b740-331">Перейдите к разделу **открытые возможности**.</span><span class="sxs-lookup"><span data-stu-id="0b740-331">Navigate to **Open Opportunities**.</span></span> <span data-ttu-id="0b740-332">Ссылка, созданная в центре партнеров Майкрософт, теперь синхронизируется в Salesforce CRM.</span><span class="sxs-lookup"><span data-stu-id="0b740-332">The referral created in Microsoft Partner Center is now synchronized in Salesforce CRM.</span></span>

    1. <span data-ttu-id="0b740-333">При выборе синхронизированной ссылки сведения о представлении карточки заполняются.</span><span class="sxs-lookup"><span data-stu-id="0b740-333">When you select a synchronized referral, the card view details are populated.</span></span>

       :::image type="content" source="images/salesforce/salesforce-casino.png" alt-text="Снимок экрана со страницей возможностей Salesforce.":::

>[!NOTE]
><span data-ttu-id="0b740-335">**Нужна помощь с развертыванием?**</span><span class="sxs-lookup"><span data-stu-id="0b740-335">**Need help with deployment?**</span></span>
><span data-ttu-id="0b740-336">Чтобы получить помощь по развертыванию соединителя для совместной работы, можно приступить к техническому консультанту партнера.</span><span class="sxs-lookup"><span data-stu-id="0b740-336">For assistance with your Co-sell referral connector deployment, you can engage a Partner Technical Consultant.</span></span> <span data-ttu-id="0b740-337">Они могут предоставить помощь в развертывании и рекомендации по успешной реализации.</span><span class="sxs-lookup"><span data-stu-id="0b740-337">They can provide deployment assistance and best practices for a successful implementation.</span></span>
>
><span data-ttu-id="0b740-338">Дополнительные сведения см. [в разделе Отправка технического запроса на предварительную продажу и развертывание служб](technical-benefits.md) .</span><span class="sxs-lookup"><span data-stu-id="0b740-338">For more information, see [How to Submit a technical presales and deployment services request](technical-benefits.md)</span></span>

## <a name="next-steps"></a><span data-ttu-id="0b740-339">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="0b740-339">Next steps</span></span>

- [<span data-ttu-id="0b740-340">Управление потенциальными клиентами</span><span class="sxs-lookup"><span data-stu-id="0b740-340">Manage leads</span></span>](manage-leads.md)

- [<span data-ttu-id="0b740-341">Управление возможностями совместной продажи</span><span class="sxs-lookup"><span data-stu-id="0b740-341">Manage co-sell opportunities</span></span>](manage-co-sell-opportunities.md)

- [<span data-ttu-id="0b740-342">Веб-перехватчики Центра партнеров</span><span class="sxs-lookup"><span data-stu-id="0b740-342">Partner Center webhooks</span></span>](/partner-center/develop/partner-center-webhooks)
