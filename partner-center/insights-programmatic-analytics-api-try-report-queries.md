---
title: API пробного выполнения запросов отчетов
ms.topic: reference
ms.date: 07/14/2021
ms.service: partner-dashboard
ms.subservice: partnercenter-csp
description: Используйте этот API для проверки запроса и проверки результатов в центре партнеров Insights.
author: kshitishsahoo
ms.author: ksahoo
ms.localizationpriority: medium
ms.openlocfilehash: 13ad6fe385a4d31390b6806d863da3f647105b2c
ms.sourcegitcommit: 4f1702683336d54f24c0ba283f7d13dda581923d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/16/2021
ms.locfileid: "114376094"
---
# <a name="try-report-queries-api"></a>API пробного выполнения запросов отчетов

Этот API выполняет инструкцию запроса отчета. API возвращает только 100 записей, которые вы в качестве партнера может использовать для проверки ожидаемых данных.

> [!IMPORTANT]
> Время ожидания выполнения запроса для этого API составляет 100 секунд. Если вы заметили, что API занимает более 100 секунд, очень вероятно, что запрос синтаксически верный, или же вы получили код ошибки, отличный от 200. Фактическое создание отчета пройдет, если синтаксис запроса правильный.

**Синтаксис запроса**

|    Метод    |    Универсальный код ресурса (URI) запроса    |
|    ----    |    ----    |
|    GET    |    `https://api.partnercenter.microsoft.com/insights/v1/mpn/ScheduledQueries/testQueryResult?<exportQuery={query text}|queryId={queryId}>`    |
|        |        |

**Заголовок запроса**

|    Заголовок    |    Тип    |    Описание    |
|    ----    |    ----    |    ----    |
|    Авторизация    |    строка    |    Обязательный. маркер доступа Azure Active Directory (AAD) в форме`Bearer <token>`    |
|    Content-Type    |    строка    |    `Application/JSON`    |
|        |        |        |

**Параметр пути**

Нет

**Параметр запроса**

|    имени параметра    |    Тип    |    Обязательно    |    Описание    |
|    ----    |    ----    |    ----    |    ----    |
|    експорткуери     |    строка    |    Нет    |    Строка запроса отчета, которую необходимо выполнить     |
|    queryId     |    строка    |    Нет    |    Допустимый идентификатор существующего запроса. Взаимоисключающая со строкой запроса, указанной в параметре Експорткуери    |
|    startTime     |    строка    |    Нет    |    Время начала, с которого нам нужны данные. Он переопределяет TimeSpan, указанный в запросе    |
|    endTime     |    строка    |    Нет    |    Время окончания, до которого мы хотим получить данные. Он переопределяет TimeSpan, указанный в запросе    |
|        |        |        |        |

**Полезные данные запроса**

Нет

**Словарь терминов**

Нет

**Ответ**

Полезные данные ответа имеют следующий формат:

Код отклика: 200, 400, 401, 403, 404, 500

Пример полезных данных ответа:

```json
Top 100 rows of query execution 
{ 
  "Value": [ 
    { 
    } 
  ], 
  "TotalCount": 0, 
  "Message": "string", 
  "StatusCode": 0, 
} 
```

**Словарь терминов**

В следующей таблице описаны ключевые элементы ответа.

|    Параметр    |    Описание    |
|    ----    |    ----    |
|    TotalCount     |    Количество наборов данных в массиве Value     |
|    Сообщение     |    Сообщение о состоянии из выполнения API     |
|    StatusCode     |    Код результата. Возможные значения: 200, 400, 401, 403, 500     |
|        |        |
