---
title: Требования к безопасности для партнеров
ms.topic: article
ms.date: 10/30/2020
ms.service: partner-dashboard
ms.subservice: partnercenter-csp
description: Общие сведения о требованиях к безопасности, касающихся включения многофакторной проверки подлинности (MFA) и внедрения платформы "Модель безопасных приложений", для партнеров.
author: vijvala
ms.author: vijvala
ms.localizationpriority: high
ms.custom: SEOMAY.20
ms.openlocfilehash: 201ea34d30814974936da032805f1ee7dfa590be
ms.sourcegitcommit: 7063fdddee77ad2d8e627ab3c806f76d173ab652
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/19/2021
ms.locfileid: "110145853"
---
# <a name="security-requirements-for-using-partner-center-or-partner-center-apis"></a>Требования к безопасности для партнеров, использующих Центр партнеров или API Центра партнеров

**Соответствующие роли**: все пользователи Центра партнеров

В этой статье приведены обязательные требования к безопасности для консультантов, поставщиков панели управления и партнеров, участвующих в программе "Поставщик облачных решений", а также варианты аутентификации и другие рекомендации по безопасности. Конфиденциальность и безопасность — одни из наших главных приоритетов. Мы знаем, что лучшая защита — это предотвращение, и что мы не сильнее самого слабого звена. Именно поэтому каждый элемент в нашей экосистеме должен работать должным образом, обеспечивая надлежащую защиту.

## <a name="mandatory-security-requirements"></a>Обязательные требований к безопасности

Партнеры, которые не выполнят обязательные требования к безопасности, не смогут осуществлять транзакции в программе "Поставщик облачных решений" или управлять арендаторами клиентов, используя делегированные права администратора. Кроме того, партнеры, не реализовавшие требования к безопасности, могут поставить под угрозу участие в различных программах. Условия, связанные с требованиями к безопасности для партнеров, добавлены в Соглашение с партнером Майкрософт. На консультантов распространяются те же контрактные требования.

Чтобы защитить вас и ваших клиентов, мы обязываем партнеров немедленно предпринять следующие действия.  

1. **Включите многофакторную проверку подлинности (MFA) для всех учетных записей пользователей в арендаторе партнера.** Вам следует включить многофакторную проверку подлинности для всех учетных записей пользователей в арендаторах клиентов. Всем пользователям следует использовать многофакторную проверку подлинности (MFA) при входе в коммерческие облачные службы Майкрософт или выполнении операций в рамках программы "Поставщик облачных решений" с помощью Центра партнеров или API.

2. **Внедрите платформу "Модель безопасных приложений"** . Всем партнерам, которые интегрируют API Центра партнеров, следует внедрить [платформу "Модель безопасных приложений"](/partner-center/develop/enable-secure-app-model) для всех моделей приложений, использующих аутентификацию приложений и пользователей.

    > [!IMPORTANT]
    > Настоятельно рекомендуется, чтобы партнеры реализовали модель безопасных приложений для интеграции с API Майкрософт, например Azure Resource Manager или Microsoft Graph, либо использовали средства автоматизации (например, PowerShell) с учетными данными пользователей, чтобы избежать нарушения работы при принудительном применении MFA.

Такие требования к безопасности помогут вам защитить инфраструктуру и данные клиентов от потенциальных рисков, таких как кража личных данных и другие виды мошенничества.  

## <a name="implementing-multi-factor-authentication"></a>Реализация многофакторной проверки подлинности

Чтобы выполнить требования к безопасности для партнеров, необходимо реализовать и принудительно применять многофакторную проверку подлинности для каждой учетной записи пользователя в арендаторе партнера. Это можно сделать одним из следующих способов.

- Реализовать [параметры Azure Active Directory (Azure AD) по умолчанию](/azure/active-directory/conditional-access/concept-conditional-access-security-defaults). Подробные сведения см. в [следующем разделе](#security-defaults).

- Приобрести Azure Active Directory Premium для каждой учетной записи пользователя. Дополнительные сведения см. в статье [Планирование развертывания Многофакторной идентификации Azure AD](/azure/active-directory/authentication/howto-mfa-getstarted).

- Использовать стороннее решение, чтобы применять многофакторную проверку подлинности для каждой учетной записи пользователя в арендаторе партнера. Чтобы убедиться, что будет предложено ожидаемое решение, узнайте о том, [как будут применяться требования к безопасности](#how-the-requirements-are-enforced).

> [!NOTE]
> Хотя многофакторная проверка подлинности не предписывается для национального облака (для государственных организаций США и для Германии), настоятельно рекомендуется внедрить эти требования к безопасности.

### <a name="security-defaults"></a>Параметры безопасности по умолчанию

Один из вариантов, доступных партнерам при реализации MFA, — включение параметров безопасности по умолчанию в Azure AD. Параметры безопасности по умолчанию обеспечивают базовый уровень защиты без дополнительных затрат. Узнайте, как включить MFA для организации с помощью Azure AD. Ознакомьтесь с изложенными ниже общими сведениями, прежде чем включать параметры безопасности по умолчанию.

- Партнеры, которые уже внедрили базовые политики, должны перейти на использование средств безопасности по умолчанию.

- Параметры безопасности по умолчанию — это общедоступное решение, заменяющее предварительную версию базовых политик. Включив параметры безопасности по умолчанию, партнер больше не сможет включить базовые политики.

- При использовании этих средств безопасности все политики будут включены одновременно.

- [Параметры безопасности по умолчанию будут недоступны партнерам](/azure/active-directory/fundamentals/concept-fundamentals-security-defaults#disabling-security-defaults), использующим [условный доступ](/azure/active-directory/conditional-access/concept-conditional-access-policy-common).

- Сейчас мы не блокируем устаревшие механизмы аутентификации. Но так как большинство событий, связанных со скомпрометированными идентификаторами, происходят из-за попытки входа с использованием устаревших методов проверки подлинности, партнерам рекомендуется отказаться от этих старых протоколов.

- Учетная запись синхронизации Azure AD Connect исключена из значений безопасности по умолчанию.

Дополнительные сведения см. в статьях [Общие сведения о многофакторной проверке подлинности Azure AD для организации](/azure/active-directory/authentication/concept-mfa-get-started) и [Что такое параметры безопасности по умолчанию?](/azure/active-directory/conditional-access/concept-conditional-access-security-defaults)

> [!NOTE]
> Параметры безопасности Azure AD по умолчанию являются закономерным упрощением базовых политик защиты. Если вы уже включили базовые политики защиты, настоятельно рекомендуется включить [параметры безопасности по умолчанию](/azure/active-directory/conditional-access/concept-conditional-access-security-defaults).

## <a name="implementation-considerations"></a>Рекомендации по реализации

Так как эти требования применяются ко всем учетным записям пользователей в арендаторе партнера, для обеспечения беспрепятственного развертывания необходимо учитывать несколько факторов. Например, определите учетные записи пользователей в Azure AD, которые не могут выполнять MFA, а также приложения и устройства вашей организации, которые не поддерживают современную аутентификацию.

Перед выполнением каких-либо действий рекомендуем пройти указанные ниже проверки. 

#### <a name="do-you-have-an-application-or-device-that-does-not-support-the-use-of-modern-authentication"></a>Есть ли у вас приложение или устройство, которое не поддерживает современную аутентификацию?

При принудительном применении MFA устаревшие механизмы аутентификации, которые используют такие протоколы, как IMAP, POP3, SMTP и другие, будут заблокированы, так как они не поддерживают MFA. Чтобы устранить это ограничение, используйте функцию [паролей приложений](/azure/active-directory/authentication/howto-mfa-mfasettings#app-passwords). Она позволит выполнять аутентификацию в приложении или на устройстве. Изучите [советы по использованию паролей приложений](/azure/active-directory/authentication/howto-mfa-mfasettings#considerations-about-app-passwords), чтобы определить, можно ли применять их в вашей среде.

#### <a name="do-you-have-office-365-users-with-licenses-associated-with-your-partner-tenant"></a>Есть ли у вас пользователи Office 365 с лицензиями, связанными с арендатором клиента?

Перед реализацией какого-либо решения рекомендуем выяснить, какую версию Microsoft Office пользователи используют в вашем арендаторе партнера. Есть вероятность, что у ваших пользователей будут возникать проблемы с подключением таких приложений, как Outlook. Перед применением MFA убедитесь, что вы используете Outlook 2013 SP1 или более поздней версии и в вашей организации включена современная аутентификация. Дополнительные сведения см. в статье [Включение современной проверки подлинности в Exchange Online](/exchange/clients-and-mobile-in-exchange-online/enable-or-disable-modern-authentication-in-exchange-online). 

Чтобы включить современную аутентификацию для любых устройств под управлением Windows, на которых установлен пакет Microsoft Office 2013, нужно будет создать два раздела реестра. Дополнительные сведения см. в статье [Enable Modern Authentication for Office 2013 on Windows devices](/office365/admin/security-and-compliance/enable-modern-authentication) (Включение современной проверки подлинности для Office 2013 на устройствах с Windows).

#### <a name="is-there-a-policy-preventing-any-of-your-users-from-using-their-mobile-devices-while-working"></a>Существует ли политика, запрещающая вашим пользователям использовать мобильные устройства во время работы?

Важно определить любую корпоративную политику, запрещающую сотрудникам использовать мобильные устройства во время работы, так как она влияет на тип реализуемого решения MFA. Существуют решения, например на основе [параметров безопасности Azure AD по умолчанию](/azure/active-directory/conditional-access/concept-conditional-access-security-defaults), которые позволяют использовать для проверки только приложение Authenticator. Если в вашей организации есть политика, которая запрещает использовать мобильные устройства, рассмотрите один из следующих вариантов:

- Развертывание приложения, поддерживающего временные одноразовые пароли (TOTP), которое может работать в защищенной системе.

- Реализация стороннего решения, применяющего MFA для каждой учетной записи пользователя в арендаторе партнера и обеспечивающего самый подходящий вариант проверки.

- Приобретение лицензий [Azure Active Directory Premium](https://azure.microsoft.com/pricing/details/active-directory/) для затронутых пользователей.

#### <a name="what-automation-or-integration-do-you-have-to-leverage-user-credentials-for-authentication"></a>Какие средства автоматизации или интеграции используют учетные данные пользователя для проверки подлинности?

Так как мы применяем MFA для каждого пользователя (включая учетные записи служб) в каталоге партнера, это окажет влияние на любую автоматизацию или интеграцию, при которой учетные данные пользователя используются для аутентификации. Поэтому важно определить, какие учетные записи используются в таких ситуациях. См. следующий список примеров приложений и служб, которые следует учитывать.

- Панель управления используется для подготовки ресурсов от имени клиентов.

- Интеграция с любой платформой, которая используется для выставления счетов (так как речь идет о программе CSP) и поддержки ваших клиентов.

- Скрипты PowerShell, использующие модули Az, AzureRM, Azure AD, MS Online и другие модули.

Приведенный выше список не является исчерпывающим. Поэтому важно выполнить полную оценку любого приложения или службы в вашей среде, которые используют учетные данные пользователя для проверки подлинности. Для применения требования для MFA вы должны по возможности выполнить инструкции, приведенные в статье [Enabling the Secure Application Model framework](/partner-center/develop/enable-secure-app-model) (Включение платформы модели безопасных приложений).

## <a name="accessing-your-environment"></a>Оценка своей среды

Чтобы лучше понять, кто или что выполняет аутентификацию, избегая запроса на многофакторную проверку подлинности, рекомендуется проверить действия входа. Лицензия Azure Active Directory Premium дает возможность использовать отчет о событиях входа. Дополнительные сведения на эту тему см. в статье [Отчеты о действиях входа на портале Azure Active Directory](/azure/active-directory/reports-monitoring/concept-sign-ins). Если у вас нет лицензии Azure Active Directory Premium или вам нужно получать сведения о действиях входа с помощью PowerShell, вы можете использовать командлет [Get-PartnerUserSignActivity](/powershell/module/partnercenter/get-partnerusersigninactivity) из модуля [PowerShell для Центра партнеров](https://www.powershellgallery.com/packages/PartnerCenter/).

## <a name="how-the-requirements-are-enforced"></a>Как применяются требования

Требования к безопасности для партнеров принудительно применяются платформой Azure AD и Центром партнеров. При этом проверяется наличие утверждения MFA, подтверждающего, что многофакторная проверка подлинности выполнена. С 18 ноября 2019 г. корпорация Майкрософт активировала дополнительные меры безопасности (ранее это называлось "техническим применением") для арендаторов партнеров.

После активации пользователи в арендаторе партнера будут проходить многофакторную проверку подлинности (MFA) при выполнении любых операций администрирования от имени (AOBO), осуществлении доступа к Центру партнеров или вызове API Центра партнеров. Подробные сведения см. в статье [Требование многофакторной проверки подлинности (MFA) для арендатора партнера](partner-security-requirements-mandating-mfa.md). 

Партнеры, не удовлетворяющие требованиям, должны как можно скорее реализовать эти меры, чтобы избежать каких-либо нарушений в работе компании. Если вы используете многофакторную проверку подлинности Azure Active Directory или параметры безопасности Azure AD по умолчанию, вам не нужно предпринимать никаких дополнительных действий.

Если вы используете стороннее решение многофакторной проверки подлинности, есть вероятность, что утверждение MFA не выдается. Если этого утверждения нет, Azure AD не сможет определить, был ли запрос на аутентификацию выполнен с использованием многофакторной проверки подлинности. Дополнительные сведения о том, как проверить, выдает ли ваше решение ожидаемое утверждение, см. в разделе [Testing the Partner Security Requirements](/powershell/partnercenter/test-partner-security-requirements) (Тестирование соответствия требованиям к безопасности для партнеров). 

> [!IMPORTANT]
> Если ваше стороннее решение не выдает ожидаемое утверждение, необходимо обратиться к поставщику, разработавшему это решение, чтобы выяснить, какие действия следует предпринять.

## <a name="resources-and-samples"></a>Ресурсы и примеры

Для получения поддержки и примеров кода см. следующие ресурсы:

- [Сообщество консультативной группы по обеспечению безопасности в Центре партнеров.](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) В сообществе консультативной группы по обеспечению безопасности в Центре партнеров вы можете узнать о предстоящих событиях и задать любые вопросы.
- [Примеры .NET для Центра партнеров.](https://github.com/microsoft/partner-center-dotnet-samples) Этот репозиторий GitHub содержит примеры, разработанные с использованием .NET, в которых демонстрируется способ реализации платформы "Модель безопасных приложений".
- [Примеры Java для Центра партнеров.](https://github.com/microsoft/partner-center-java-samples) Этот репозиторий GitHub содержит примеры, разработанные с использованием Java, в которых демонстрируется способ реализации платформы "Модель безопасных приложений".
- [Многофакторная идентификация с помощью PowerShell для Центра партнеров.](/powershell/partnercenter/multi-factor-auth) Эта статья содержит подробные сведения о реализации платформы "Модель безопасных приложений" с помощью PowerShell.

## <a name="next-steps"></a>Дальнейшие действия

- [Требование Многофакторной идентификации (MFA) для арендатора партнера](partner-security-requirements-mandating-mfa.md)